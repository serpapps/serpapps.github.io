import{_ as Q}from"./DJmlbvx6.js";import{e as I,f as M,p as U,l as R,g as _,c as s,j as F,h as t,q as z,v as W,a,s as B,x as J,F as v,r as y,o,t as h,d as K,_ as j,y as X,u as Y,z as Z,A as ee,b as V}from"./BCI55x4g.js";import{_ as te}from"./BNmvm4AA.js";import{u as ne}from"./zJJrxNJK.js";import"./Dxj2b864.js";import"./ClmyJTz-.js";const se={class:"content-filters"},oe={key:0,class:"content-filters__search"},ae={key:1,class:"content-filters__sort"},le=["value"],re={key:2,class:"content-filters__filters"},ce={class:"content-filters__filter-title"},ie={class:"content-filters__filter-options"},ue=["checked","onChange"],pe={class:"content-filters__filter-count"},_e={key:3,class:"content-filters__active"},de={class:"content-filters__active-list"},me=["onClick"],fe=I({__name:"ContentFilters",props:{contentType:{}},setup(D){const d=D,r=M(),{activeFilters:g,activeSort:T,searchQuery:b,toggleFilter:S,clearFilters:$,setSort:A,setSearch:C,getFilterOptions:k,getSortOptions:l,currentType:m}=U(),u=R(b.value),p=R(T.value),x=_(()=>{const c=d.contentType||m.value;if(!c)return[];const n=r.platform.contentTypes[c];return!n||!n.filters?[]:n.filters.map(e=>({type:e,label:e.charAt(0).toUpperCase()+e.slice(1),options:k(e)}))}),E=_(()=>l()),H=(c,n)=>{var e;return((e=g.value[c])==null?void 0:e.includes(n))||!1},L=_(()=>Object.values(g.value).some(c=>c.length>0)||b.value!==""),N=G(()=>{C(u.value)},300),q=()=>{A(p.value)},O=(c,n)=>{S(c,n)},w=()=>{$(),u.value="",p.value=r.platform.contentTypes[m.value||"games"].defaultSort||"featured"};function G(c,n){let e;return function(...f){const P=()=>{clearTimeout(e),c(...f)};clearTimeout(e),e=setTimeout(P,n)}}return(c,n)=>(o(),s("div",se,[t(r).platform.settings.enableSearch?(o(),s("div",oe,[z(a("input",{"onUpdate:modelValue":n[0]||(n[0]=e=>B(u)?u.value=e:null),type:"text",placeholder:"Search...",class:"content-filters__search-input",onInput:n[1]||(n[1]=(...e)=>t(N)&&t(N)(...e))},null,544),[[W,t(u)]])])):F("",!0),t(r).platform.settings.enableSort?(o(),s("div",ae,[n[3]||(n[3]=a("label",{class:"content-filters__label"},"Sort by:",-1)),z(a("select",{"onUpdate:modelValue":n[2]||(n[2]=e=>B(p)?p.value=e:null),class:"content-filters__select",onChange:q},[(o(!0),s(v,null,y(t(E),e=>(o(),s("option",{key:e.value,value:e.value},h(e.label),9,le))),128))],544),[[J,t(p)]])])):F("",!0),t(r).platform.settings.enableFilters&&t(x).length>0?(o(),s("div",re,[(o(!0),s(v,null,y(t(x),e=>(o(),s("div",{key:e.type,class:"content-filters__filter-group"},[a("h4",ce,h(e.label),1),a("div",ie,[(o(!0),s(v,null,y(e.options,i=>(o(),s("label",{key:i.value,class:"content-filters__filter-option"},[a("input",{type:"checkbox",checked:H(e.type,i.value),onChange:f=>O(e.type,i.value)},null,40,ue),a("span",null,h(i.label),1),a("span",pe,"("+h(i.count)+")",1)]))),128))])]))),128))])):F("",!0),t(L)?(o(),s("div",_e,[n[4]||(n[4]=a("span",{class:"content-filters__active-label"},"Active filters:",-1)),a("div",de,[(o(!0),s(v,null,y(t(g),(e,i)=>(o(),s(v,{key:i},[(o(!0),s(v,null,y(e,f=>(o(),s("span",{key:`${i}-${f}`,class:"content-filters__active-item"},[K(h(f)+" ",1),a("button",{onClick:P=>O(i,f),class:"content-filters__active-remove"}," Ã— ",8,me)]))),128))],64))),128))]),a("button",{onClick:w,class:"content-filters__clear"}," Clear all ")])):F("",!0)]))}}),ve=j(fe,[["__scopeId","data-v-2ea79120"]]),ge={class:"content-page"},ye={class:"content-page__container"},he={class:"content-page__sidebar"},be={class:"content-page__main"},Ce=I({__name:"index",setup(D){const d=X(),r=M(),{filteredContent:g,loading:T,error:b}=U(),{loadContent:S}=ne(),$=_(()=>{const l=d.params.type;return l.endsWith("s")?l.slice(0,-1):l}),A=_(()=>{var m;return((m=r.platform.contentTypes[d.params.type])==null?void 0:m.enabled)||!1}),C=_(()=>{const l=r.platform.contentTypes[d.params.type];return(l==null?void 0:l.label)||"Content"}),k=_(()=>{const l=d.params.type;return l==="games"?"Play free online games including arcade, puzzle, strategy, and more!":l==="tools"?"Discover free online tools for developers, designers, and productivity":r.platform.description});return Y({title:C.value,meta:[{name:"description",content:k.value}]}),Z(()=>{A.value||ee("/")}),(l,m)=>{const u=Q,p=ve,x=te;return o(),s("div",ge,[V(u,{title:t(C),description:t(k)},null,8,["title","description"]),a("div",ye,[a("aside",he,[V(p,{"content-type":t($)},null,8,["content-type"])]),a("main",be,[V(x,{items:t(g),loading:t(T),error:t(b),"items-per-page":t(r).platform.settings.itemsPerPage,layout:t(r).platform.settings.layout,onRetry:t(S)},null,8,["items","loading","error","items-per-page","layout","onRetry"])])])])}}}),Ae=j(Ce,[["__scopeId","data-v-a14b9eae"]]);export{Ae as default};
