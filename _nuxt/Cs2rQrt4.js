import{_ as K}from"./YQEpQ6jr.js";import{e as B,I as L,i as I,j as _,c as s,f as F,l as t,K as M,L as W,a,M as R,N as q,F as v,r as y,o,t as h,d as J,_ as U,O as X,u as Y,P as Z,Q as ee,b as A}from"./BX_ooAjd.js";import{u as j,a as te}from"./v3fMqMzk.js";import{_ as ne}from"./qbD92c4o.js";import"./Q5CQnW-L.js";import"./BAAqfIkt.js";const se={class:"content-filters"},oe={key:0,class:"content-filters__search"},ae={key:1,class:"content-filters__sort"},le=["value"],re={key:2,class:"content-filters__filters"},ce={class:"content-filters__filter-title"},ie={class:"content-filters__filter-options"},ue=["checked","onChange"],pe={class:"content-filters__filter-count"},_e={key:3,class:"content-filters__active"},de={class:"content-filters__active-list"},me=["onClick"],fe=B({__name:"ContentFilters",props:{contentType:{}},setup(N){const d=N,r=L(),{activeFilters:g,activeSort:T,searchQuery:b,toggleFilter:S,clearFilters:$,setSort:V,setSearch:C,getFilterOptions:k,getSortOptions:l,currentType:m}=j(),u=I(b.value),p=I(T.value),x=_(()=>{const c=d.contentType||m.value;if(!c)return[];const n=r.platform.contentTypes[c];return!n||!n.filters?[]:n.filters.map(e=>({type:e,label:e.charAt(0).toUpperCase()+e.slice(1),options:k(e)}))}),z=_(()=>l()),E=(c,n)=>{var e;return((e=g.value[c])==null?void 0:e.includes(n))||!1},H=_(()=>Object.values(g.value).some(c=>c.length>0)||b.value!==""),O=G(()=>{C(u.value)},300),Q=()=>{V(p.value)},P=(c,n)=>{S(c,n)},w=()=>{$(),u.value="",p.value=r.platform.contentTypes[m.value||"games"].defaultSort||"featured"};function G(c,n){let e;return function(...f){const D=()=>{clearTimeout(e),c(...f)};clearTimeout(e),e=setTimeout(D,n)}}return(c,n)=>(o(),s("div",se,[t(r).platform.settings.enableSearch?(o(),s("div",oe,[M(a("input",{"onUpdate:modelValue":n[0]||(n[0]=e=>R(u)?u.value=e:null),type:"text",placeholder:"Search...",class:"content-filters__search-input",onInput:n[1]||(n[1]=(...e)=>t(O)&&t(O)(...e))},null,544),[[W,t(u)]])])):F("",!0),t(r).platform.settings.enableSort?(o(),s("div",ae,[n[3]||(n[3]=a("label",{class:"content-filters__label"},"Sort by:",-1)),M(a("select",{"onUpdate:modelValue":n[2]||(n[2]=e=>R(p)?p.value=e:null),class:"content-filters__select",onChange:Q},[(o(!0),s(v,null,y(t(z),e=>(o(),s("option",{key:e.value,value:e.value},h(e.label),9,le))),128))],544),[[q,t(p)]])])):F("",!0),t(r).platform.settings.enableFilters&&t(x).length>0?(o(),s("div",re,[(o(!0),s(v,null,y(t(x),e=>(o(),s("div",{key:e.type,class:"content-filters__filter-group"},[a("h4",ce,h(e.label),1),a("div",ie,[(o(!0),s(v,null,y(e.options,i=>(o(),s("label",{key:i.value,class:"content-filters__filter-option"},[a("input",{type:"checkbox",checked:E(e.type,i.value),onChange:f=>P(e.type,i.value)},null,40,ue),a("span",null,h(i.label),1),a("span",pe,"("+h(i.count)+")",1)]))),128))])]))),128))])):F("",!0),t(H)?(o(),s("div",_e,[n[4]||(n[4]=a("span",{class:"content-filters__active-label"},"Active filters:",-1)),a("div",de,[(o(!0),s(v,null,y(t(g),(e,i)=>(o(),s(v,{key:i},[(o(!0),s(v,null,y(e,f=>(o(),s("span",{key:`${i}-${f}`,class:"content-filters__active-item"},[J(h(f)+" ",1),a("button",{onClick:D=>P(i,f),class:"content-filters__active-remove"}," Ã— ",8,me)]))),128))],64))),128))]),a("button",{onClick:w,class:"content-filters__clear"}," Clear all ")])):F("",!0)]))}}),ve=U(fe,[["__scopeId","data-v-2ea79120"]]),ge={class:"content-page"},ye={class:"content-page__container"},he={class:"content-page__sidebar"},be={class:"content-page__main"},Ce=B({__name:"index",setup(N){const d=X(),r=L(),{filteredContent:g,loading:T,error:b}=j(),{loadContent:S}=te(),$=_(()=>{const l=d.params.type;return l.endsWith("s")?l.slice(0,-1):l}),V=_(()=>{var m;return((m=r.platform.contentTypes[d.params.type])==null?void 0:m.enabled)||!1}),C=_(()=>{const l=r.platform.contentTypes[d.params.type];return(l==null?void 0:l.label)||"Content"}),k=_(()=>{const l=d.params.type;return l==="games"?"Play free online games including arcade, puzzle, strategy, and more!":l==="tools"?"Discover free online tools for developers, designers, and productivity":r.platform.description});return Y({title:C.value,meta:[{name:"description",content:k.value}]}),Z(()=>{V.value||ee("/")}),(l,m)=>{const u=K,p=ve,x=ne;return o(),s("div",ge,[A(u,{title:t(C),description:t(k)},null,8,["title","description"]),a("div",ye,[a("aside",he,[A(p,{"content-type":t($)},null,8,["content-type"])]),a("main",be,[A(x,{items:t(g),loading:t(T),error:t(b),"items-per-page":t(r).platform.settings.itemsPerPage,layout:t(r).platform.settings.layout,onRetry:t(S)},null,8,["items","loading","error","items-per-page","layout","onRetry"])])])])}}}),Ve=U(Ce,[["__scopeId","data-v-a14b9eae"]]);export{Ve as default};
