import{p as v,z as y}from"./BCI55x4g.js";const g=()=>{const{content:t,loading:a,error:l,applyFilters:i}=v(),s=async()=>{a.value=!0,l.value=null;try{const n=await $fetch("/data/content.json");if(n&&n.content)t.value=n.content,i();else throw new Error("Invalid content data")}catch(n){l.value=n instanceof Error?n.message:"Failed to load content",console.error("Error loading content:",n)}finally{a.value=!1}},u=async(n,o)=>{a.value=!0,l.value=null;try{const e=await $fetch(n,{params:o,headers:{"Content-Type":"application/json"}});if(e&&Array.isArray(e))t.value=e,i();else throw new Error("Invalid API response")}catch(e){l.value=e instanceof Error?e.message:"Failed to load content from API",console.error("Error loading content from API:",e)}finally{a.value=!1}},d=async n=>{try{const o=t.value.find(r=>r.slug===n);if(o)return o;const e=await $fetch("/data/content.json");if(e&&e.content){const r=e.content.find(c=>c.slug===n);if(r)return t.value.find(c=>c.id===r.id)||(t.value=[...t.value,r]),r}return null}catch(o){return console.error("Error loading content by slug:",o),null}},f=async()=>{await s()};return y(()=>{t.value.length===0&&s()}),{loadContent:s,loadContentFromAPI:u,loadContentBySlug:d,refreshContent:f}};export{g as u};
